<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InkSync</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <h1>ðŸŽ¨ InkSync</h1>
        <div class="user-info">
          <span id="username-display">Anonymous</span>
          <div id="user-color-indicator" class="color-indicator"></div>
        </div>
      </header>

      <!-- Toolbar -->
      <div class="toolbar">
        <div class="tool-group">
          <button id="brush-tool" class="tool-btn active" title="Brush">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M12 19l7-7 3 3-7 7-3-3z" />
              <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z" />
            </svg>
          </button>
          <button id="eraser-tool" class="tool-btn" title="Eraser">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M20 20H7L3 16l5-5 3 3 5-5 4 4v7z" />
            </svg>
          </button>
        </div>

        <div class="tool-group">
          <label>Color:</label>
          <div class="color-presets">
            <button
              class="color-preset"
              data-color="#000000"
              style="background: #000000"
              title="Black"
            ></button>
            <button
              class="color-preset"
              data-color="#ffffff"
              style="background: #ffffff"
              title="White"
            ></button>
            <button
              class="color-preset"
              data-color="#ff0000"
              style="background: #ff0000"
              title="Red"
            ></button>
            <button
              class="color-preset"
              data-color="#00ff00"
              style="background: #00ff00"
              title="Green"
            ></button>
            <button
              class="color-preset"
              data-color="#0000ff"
              style="background: #0000ff"
              title="Blue"
            ></button>
            <button
              class="color-preset"
              data-color="#ffff00"
              style="background: #ffff00"
              title="Yellow"
            ></button>
            <button
              class="color-preset"
              data-color="#ff00ff"
              style="background: #ff00ff"
              title="Magenta"
            ></button>
            <button
              class="color-preset"
              data-color="#00ffff"
              style="background: #00ffff"
              title="Cyan"
            ></button>
            <button
              class="color-preset"
              data-color="#ff8000"
              style="background: #ff8000"
              title="Orange"
            ></button>
            <button
              class="color-preset"
              data-color="#8000ff"
              style="background: #8000ff"
              title="Purple"
            ></button>
          </div>
          <div class="custom-color-picker">
            <button
              id="color-picker-btn"
              class="color-picker-trigger"
              title="Custom color"
            >
              <span id="current-color-display"></span>
            </button>
            <div
              id="color-picker-dropdown"
              class="color-picker-dropdown hidden"
            >
              <canvas id="color-gradient" width="200" height="150"></canvas>
              <input
                type="range"
                id="hue-slider"
                min="0"
                max="360"
                value="0"
                class="hue-slider"
              />
              <div class="color-preview-row">
                <div id="color-preview" class="color-preview"></div>
                <input
                  type="text"
                  id="hex-input"
                  class="hex-input"
                  value="#000000"
                  maxlength="7"
                />
              </div>
            </div>
          </div>
        </div>

        <div class="tool-group">
          <label for="stroke-width">Width:</label>
          <input type="range" id="stroke-width" min="1" max="50" value="5" />
          <span id="stroke-width-value">5</span>
        </div>

        <div class="tool-group">
          <button id="undo-btn" class="action-btn" title="Undo (Ctrl+Z)">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M3 7v6h6" />
              <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13" />
            </svg>
          </button>
          <button id="redo-btn" class="action-btn" title="Redo (Ctrl+Y)">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <path d="M21 7v6h-6" />
              <path d="M3 17a9 9 0 019-9 9 9 0 016 2.3l3 2.7" />
            </svg>
          </button>
          <button id="clear-btn" class="action-btn" title="Clear Canvas">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
            >
              <polyline points="3 6 5 6 21 6" />
              <path
                d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"
              />
            </svg>
          </button>
        </div>
      </div>

      <!-- Canvas Container -->
      <div class="canvas-wrapper">
        <canvas id="drawing-canvas"></canvas>
        <div id="cursors-container"></div>
        <!-- Connection Status -->
        <div id="connection-status" class="status-indicator">
          <span class="status-dot"></span>
          <span class="status-text">Connecting...</span>
        </div>
      </div>

      <!-- Online Users Panel -->
      <aside class="users-panel">
        <h3>Online Users (<span id="user-count">0</span>)</h3>
        <ul id="users-list"></ul>
      </aside>

      <!-- Performance Metrics -->
      <div id="performance-metrics" class="metrics-panel">
        <div class="metric">
          <span class="metric-label">FPS:</span>
          <span id="fps-value" class="metric-value">--</span>
        </div>
        <div class="metric">
          <span class="metric-label">Latency:</span>
          <span id="latency-value" class="metric-value">--</span>
          <span class="metric-unit">ms</span>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="canvas.js"></script>
    <script src="websocket.js"></script>
    <script src="main.js"></script>
  </body>
</html>
